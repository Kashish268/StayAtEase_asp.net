@{
    ViewBag.Title = "Inquiries";
    Layout = "~/Views/Shared/_SuperAdminLayout.cshtml";
}

<link rel="stylesheet" href="~/Content/site.css" />

<div class="total-users-container">
    <h2 class="total-users-title">All Property Messages</h2>

    <div class="search-container">
        <i class="fas fa-search search-icon"></i>
        <form method="get" action="@Url.Action("Inquiries")">
            <input type="text" id="searchMessages" name="searchTerm" class="total-users-search" placeholder="Search messages..." value="@Model.SearchTerm" />
            <button type="submit">Search</button>
        </form>
    </div>

    <div class="total-users-table-container">
        <table class="total-users-table">
            <thead>
                <tr>
                    <th>Guest Name</th>
                    <th>Property ID</th>
                    <th>Email Address</th>
                    <th>Contact No</th>
                    <th>Message</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="messageTableBody">
                @foreach (var message in Model.PagedMessages)
                {
                    <tr>
                        <td>@message.Name</td>
                        <td>@message.PropertyId</td>
                        <td>@message.Email</td>
                        <td>@message.Contact</td>
                        <td>@message.Message</td>
                        <td>
                            <a href="#">View</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

    <div class="total-users-pagination">
        <span id="pagination-info">Page @Model.CurrentPage of @Model.TotalPages</span>
        <div id="pagination-buttons">
            @for (int i = 1; i <= Model.TotalPages; i++)
            {
                <a href="@Url.Action("Inquiries", new { page = i, searchTerm = Model.SearchTerm })">@i</a>
            }
        </div>
    </div>
</div>

<script src="~/js/site.js"></script>
